#!/bin/bash


usage() {
cat << EOF
Usage:
  uws ensure
  uws ensure <config>
EOF
}


check_args() {

  [[ $1 != "ensure" ]] \
    && usage \
    && return 1

  return 0
}


check_args $1 $2 || exit 1

uws=$(cd $(dirname $BASH_SOURCE[0]) && pwd)

. "$uws/base/sudo.sh"

ensure_sudo || exit 2

if is_sudoer
then
  "$uws/base/$1.sh" ${2:-}
else
  as_sudoer "$uws/base/$1.sh" ${2:-}
fi
